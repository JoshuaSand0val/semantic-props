////
/// Semantic Props used for color.
/// @group colors
/// @since 0.3.0
////

@use "sass:color" as color;
@use "sass:map" as map;
@use "sass:math" as math;

/// Mapped Semantic Props colors to values.
/// Generates (0 through 12) custom property colors (0% to 100% lightness).
/// Custom property uses --[prop]-color-[light]-[dark] syntax.
/// Uses CSS Relative Colors and light-dark function.
/// @type map
$colors: () !default;
$colors: map.merge((
	theme: rgb(233, 239, 245),
	primary: rgb(38, 169, 241),
	secondary: rgb(118, 130, 139),
	success: rgb(82, 183, 102),
	danger: rgb(202, 85, 83),
	warning: rgb(255, 214, 90),
	info: rgb(0, 212, 251)
), $colors);

:root {
	@each $prop, $color in $colors {
		// Create reference color prop:
		#{--#{$prop}-color}: $color;

		// Create weighted light-dark color props:
		@for $l from 0 through 12 {
			@for $d from 0 through 12 {
				// Calculate color light/dark lightness:
				$light: 100% * Math.div($l, 12);
				$dark: 100% * Math.div($d, 12);

				// Create color custom property name:
				$custom-property: --#{$prop}-color-#{$l}-#{$d};

				// Define color custom property using light-dark (alongside fallback):
				#{$custom-property}: color.change($color, $lightness: $light);
				#{$custom-property}: light-dark(
					oklch(from var(#{--#{$prop}-color}) #{$light} c h),
					oklch(from var(#{--#{$prop}-color}) #{$dark} c h)
				);
			}
		}
	}
}

/// Gets Semantic Props mapped color value.
/// @see $colors
/// @parameter {string} $prop Name of color prop.
/// @returns {color} Value of color prop.
@function color($prop) {
	@return map.get($colors, $prop);
}